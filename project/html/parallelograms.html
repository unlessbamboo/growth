<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>平行四边形菱形等图形</title>
    <style>
        main{
          width: 800px;
          padding: 29px 0 0;
          margin: 100px auto;
        }

        /*
        1. 布局: 伸缩
        2. justify-content:
            space-around: item之间的空间环绕以及布局方式
            center: 元素处于中间, 整体左边和整体右边auto
            这里控制diamond中的子元素的伸缩布局, 例如p, div子元素
        3. border-bottom: 每一项的分割线
        */
        .diamond{
          display: flex;
          flex-wrap: wrap;
          justify-content: space-around;
          padding-bottom: 20px;
          margin-bottom: 20px;
          border-bottom: 1px solid #eee;
        }

        .diamond > div{
          width: 150px;
          color: white;  /* 设置元素txt的前景色 */
          display: inherit;  /* 全局变量, 关键字使得元素获取其父元素的计算值 */
          justify-content: center;
          /*
          align-items, 所有子节点的组合以及对齐(基于侧轴-纵轴).
            center: 元素位于容器中心
            stretch: 元素被拉伸以适应容器
            flex-start/flex-end: 元素位于容器的开头或者结尾
          这里仅仅控制div中的span子元素, 因为就一个
          */
          align-items: center;
          position: relative;
        }

        /*
        作用对象: 盒模型
        transform:设置旋转, 缩放, 倾斜, 平移
        skewX函数: 将元素倾斜到二维平面上的水平方向, 如果90deg则会直接消失
        */
        .diamond:nth-of-type(1) > div{
          transform: skewX(-45deg);
          background: #b4a078;
        }
        /*
        将span中的字体从倾斜调正, 修复上面的CSS样式负作用
        */
        .diamond:nth-of-type(1) > div > span{
          transform: skewX(45deg);
        }

        .diamond:nth-child(2) > div {
          background-color: #b4a078;
        }

        /*
        flex中space-around设置了各个子元素的间距, before操作的是
        子元素内部的空间, 这里实际上就是定位并设置背景.
        left:定位元素的左外边距边界与其包含块左边界之间的偏移 
        全部设置为0: 元素居于正中间
        */
        .diamond:nth-of-type(3) > div::before{
          content: "";
          position: absolute;
          top: 0; left: 0; bottom: 0; right: 0;
          z-index: -1;
          transform: skewX(-45deg);
          background: #b4a078;
        }

        /* div 菱形
        1. 使用透明边框画图形: https://zhuanlan.zhihu.com/p/37395302
          设置边框并且设置为透明transparent, 从而生成一个正方形
        2. 基于transform旋转将正方形变为菱形
        3. before表示所选元素的第一个子元素, after表示所选元素的最后一个子元素
          content: 表示伪元素填充的内容
          伪类应用场景:
            a. 文本字符前缀, 基于content
            b. 字体iconfont, 基于content + font
            c. 进度线和时间线, 基于height和背景色来实现
            d. 几何图形: 三角, 多边, 五角, 见下面的第五个图形
        */
        .diamond:nth-of-type(4) > div{
          width: 105px; height: 105px;
          border: 29px solid transparent;
          box-sizing: content-box;
        }
        .diamond:nth-of-type(4) > div::before{
          content: "";
          position: absolute;
          top: 0; left: 0; bottom: 0; right: 0;
          z-index: -1;
          background: #b4a078;
          /* 旋转 */
          transform: rotate(45deg);
        }
        /* 整体布局 */
        .diamond:nth-of-type(4){
          /*
          注释掉: 避免影响下面的图形
          margin-bottom: 0;
          */
          /*
          元素位于容器中心
          */
          align-items: center;
          justify-content: space-around;
          /*
          border-bottom-color: transparent;
          */
        }
        /* 图片
        1. transition: 设置两个状态之间的过渡效果(触发以及回溯)
        2. polygon: 定义了一个由一组首尾相连的直线线段构成的闭合多边形形状
          50% 0: 中上
          100% 50%: 右中
          50% 100%: 中下
          0 50%: 左中
          四个点构成一个菱形结构
        */
        .diamond:nth-of-type(4) > img{
          width: 300px; height: 150px;
          clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%);
          transition: 1s clip-path;
        }
        .diamond:nth-of-type(4) > img:hover{
          /* 触发后的四个角 */
          clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        }

        .diamond:nth-of-type(5) >div {
          height: 100px;
          align-items: center;
          justify-content: space-around;
        }
        .diamond:nth-of-type(5) > div:nth-child(1):before {
            width: 0px;
            height: 0px;
            content: '';
            top: 0; left: 0; bottom: 0; right: 0;
            position: absolute;
            border-top: 50px solid #f50000;
            border-right: 50px solid #6cc361;
            border-bottom: 50px solid #6167c3;
            border-left: 50px solid #fa00d9;
        }

        .diamond:nth-of-type(5) > div:nth-child(2):before {
            width: 0px;
            height: 0px;
            content: '';
            top: 0; left: 0; bottom: 0; right: 0;
            position: absolute;
            /*
            头部置空, 左右隐藏, 其他三角形同理
            */
            border-top: 0px;
            border-right: 50px solid transparent;
            border-bottom: 50px solid #6167c3;
            border-left: 50px solid transparent;
        }
    </style>
</head>
<body>
    <main>
        <!-- diamond: 菱形, 钻石 -->
        <div class="diamond">
          <p>nested element</p>
          <div><span>菱形</span></div>
        </div>

        <!-- 伪造假冒元素 -->
        <div class="diamond">
          <p>不设置before伪元素</p>
          <div>菱形</div>
        </div>

        <div class="diamond">
          <p>pseudo element (recommended)</p>
          <div>菱形</div>
        </div>

        <div class="diamond">
          <div>菱形</div>
          <img src="img/dog2018.jpg" alt="">
        </div>

        <div class="diamond">
          <div></div>
          <div>三角</div>
        </div>
    </main> 
</body>
</html>