#!/bin/zsh

# 请在本地添加相应数据
. /data/shell/data.sh

bamboo()
{
    ssh ${BAMBOO_NAME}
}

feng()
{
    ssh ${FENG_NAME}
}

vps()
{
    ssh ${VPS_NAME} -p ${VPS_PORT}
}


visa()
{
    ssh ${VISA_NAME} -p ${VISA_PORT}
}


server()
{
    ssh ${SERVER_NAME} -p ${SERVER_PORT}
}


db()
{
    # set -x
    ps -ef|grep ${LOCAL_PORT}| grep NPCf| grep -v grep|awk '{print $2}'|xargs kill -9
    if [[ $? != 0 ]];then
        echo "Kill process failed."
        exit 1
    fi
    ssh -L ${LOCAL_PORT}:127.0.0.1:${REMOTE_PORT} ${SERVER_NAME} -NPCf
}


usage()
{
    echo "Go to special machine.
    db              go to online mysql, except aws
    ==============================================
    bamboo          go to personal blog server
    feng            go to hongkong blog server
    vps             go to vps
    ==============================================
    visa            go to visa server
    server          go to server
    "
}


case "$1" in
    db):
        db;;
    bamboo):
        bamboo;;
    feng):
        feng;;
    vps):
        vps;;
    visa):
        visa;;
    server):
        server;;
    *)
        usage;;
esac
