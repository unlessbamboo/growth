---
title: dns
date:2016-12-09 18:00:00
tags: web
---


### 1 Introduction
DNS相关知识点。
- DNS简述
- DNS消息格式
- DNS术语
- DNS解析原理
- DNS网络拓扑
- DNS命令行


### 2 简述
#### 2.1 简述
DNS-domain name system域名系统。  
- 一个将域名和IP地址信息相互映射的分布式数据库；
- 一个使用端口号53的udp或者tcp协议的约定；
- NS和resolver解析器通过CS来通信；

#### 2.2 格式限定
这里仅仅描述英文域名格式。
##### 2.2.1 正则
```
    # 这里最多为三级域名，其中idn为国际通用域名（中文域名）
    ^((?!-)) (xn--)?[0-9a-z][0-9a-z_]{0,61}
        [0-9][a-z]{0,1}\.
        (xn--)?(
            [0-9a-z\-]{1,61} | 
            [0-9a-z\-]{1,30}\.[a-z]{2,})$
    
    # 例子idn --quiet -a http://www.郑碧峰.3com
    # 参考：
    https://docs.oracle.com/cd/E23824_01/html/E26033/glmkx.html
    # 输出为:
        http://www.xn--eltv85dhsq.com
```
##### 2.2.2 说明
- 每一级域名长度为63字符，域名总长度不超过253字符（两标点）。
- \*泛解析，匹配所有该字段域名
- @直接解析主域名，即所有服务都进入该IP；

##### 2.2.3 优势
- 分布式系统，利用分散管理，父域使用授域权限，界定各个子域
- 利用分布式数据库达到整个Internet的数据一致性；


### 3 格式
#### 3.1 格式
```
    
```
